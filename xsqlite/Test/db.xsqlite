table DataBlock
{
	bytes:hash+p+sk1;
	i32:file_id+sv1;
	i64:create_time;
	i64:time_to_live;
	i32:length;
	i32:range_count;
}


table DataRange
{
	bytes:hash+p+r1;
	i32:seq+p;
	i32:file_id;
	i64:pos+r1;
	i32:length;
}


table File
{
	i32:file_id+p+uk1;
	bytes:path;
	bytes:hash;
	i64:create_time;
	i64:last_scan_time+uv1;
	i32:flag+uv1;
}

sql SQL_FindEarlestDataBlock
{
	"SELECT hash, file_id, min(create_time) FROM DataBlock";
}
